#include "myDS.h"
#include "insert.h"
void INSERT(int num_store,Store **HEAD){
    Store *p,*pre=(*HEAD),*new_node;
    for(p=(*HEAD);p!=NULL;p=p->next)
        pre=p;
    p=pre;//這樣才是正確的最後位置
    for(int i=0;i<num_store;i++){
        if(p!=NULL){
            new_node=(Store *)malloc(sizeof(Store));
            scanf("%s %s",(new_node->name),(new_node->phonenumber));
            scanf("%lf %lf",&(new_node->longitude),&(new_node->latitude));
            scanf("%f %d %d %lf %d",&(new_node->data),&(new_node->time[0]),&(new_node->time[1]),&(new_node->distance),&(new_node->price));
            new_node->next=p->next;
            p->next=new_node;
            p=p->next;
        }
        else{
            (*HEAD)=malloc(sizeof(Store));
            scanf("%s %s",(*HEAD)->name,(*HEAD)->phonenumber);
            scanf("%lf %lf",&((*HEAD)->longitude),&((*HEAD)->latitude));
            scanf("%f %d %d %lf %d",&((*HEAD)->data),&((*HEAD)->time[0]),&((*HEAD)->time[1]),&((*HEAD)->distance),&((*HEAD)->price));
            (*HEAD)->next=NULL;
            p=(*HEAD);
        }
    }
}


void PRINT(Store *HEAD){
    Store *p;
    for(p=HEAD;p!=NULL;p=p->next){
        printf("%s %s %lf %lf %f %d %d %lf %d\n",p->name,p->phonenumber,p->longitude,p->latitude,p->data,p->time[0],p->time[1],p->distance,p->price);
    }
}


void DELETE(int num_store,Store *HEAD){
    Store *p,*pre=NULL;
    char Name[128];
    scanf("%s",Name);
    for(int i=0;i<num_store;i++){
        for(p=HEAD;p!=NULL;p=p->next){
            if(strcmp(p->name,Name)==0){
                pre->next=p->next;
                free(p);
                break;
            }
            pre=p;
        }
        if(p==NULL)
            printf("INVALID OPERATION\n");
    }
}
